{% load mezzanine_tags %}
{% with page.slide_set.all as slides %} 
{% if slides %}
<div class="row">
	<div class="col-sm-12">
		<div id="myCarousel" class="carousel slide" data-ride="carousel">
			<ol class="carousel-indicators">
				{% for slide in slides %}
				<li data-target="#myCarousel"
					data-slide-to="{{ forloop.counter0 }}" {% if forloop.first %}class="active"{% endif %}>
				</li> 
				{% endfor %}
			</ol>
			<div class="carousel-inner">
				{% for slide in slides %}
				<div class="item {% if forloop.first %}active{% endif %}">
					<img src="{{ MEDIA_URL }}{% thumbnail slide.file 940 300 %}"
						alt="{{ slide.description }}" /> 
					{% if slide.caption %}
					<div class="carousel-caption">
						<h3>{{ slide.caption|safe }}</h3>
					</div>
					{% endif %}
				</div>
				{% endfor %}
			</div>
			<!-- Left and right controls -->
			  <a class="left carousel-control" href="#myCarousel" data-slide="prev">
			    <span class="glyphicon glyphicon-chevron-left"></span>
			    <span class="sr-only">Previous</span>
			  </a>
			  <a class="right carousel-control" href="#myCarousel" data-slide="next">
			    <span class="glyphicon glyphicon-chevron-right"></span>
			    <span class="sr-only">Next</span>
			  </a>
		</div>
	</div>
</div>
{% endif %}
{% endwith %}